# Функция 1 (вспомогательная)
## Вход
дата игрового дня
## Выход
Список GAME_ID, которые относятся к этой дате и уже завершились к текущему моменту
## Как делать
сделать запрос к nba_api

# Функция 2 (основная)
## Вход
Список GAME_ID для игр, которые хотим обработать
## Выход
Список твиттов-кандидатов + доп. контекст для каждого твита 
## Как делать
- через запросы к БД и к nba_api составить список недостающих игр (т.е. те, что относятся к тому же сезону, сыграны в предыдущие дни, но их нет в БД)
- загрузить недостающие игры и игры из изначального списка
  - загрузить сырые данные
  - посчитать статы\аггрегаты, если надо
  - переобучить модель
- собрать материал для твитов
  - А. через мехнизм сигналов
  - Б. через инференс модели для детекции аномалий и проверку аналогов в истории
- сгенерировать твиты по всем материалам: для каждого типа сообщений д.б. свой промпт\чейн
- отранжировать твиты (тут надо будет сначала провести исследование)
- сформировать выходной файл

# Типы сообщений
(в дальнейшем расширим этот список)
1. topKsum_X: игрок попал в топ-К по суммарному показателю X за сезон, а другой игрок оттуда выпал
2. topKhigh_X: игрок попал в топ-К по показателю X в одной игре, а другой игрок оттуда выпал
3. anomaly_unique: игрок собрал стат. линейку, аналога которой нет в нашей истории
4. anomaly_repeat: игрок собрал стат. линейку, у которой есть аналог в нашей истории 


# Роадмап
1. Мы можем локально вызывать 2 функции
2. Есть сервер, который где-то крутится, и мы можем удалённо дергать 2 ендпойнта
3. Есть интерфейс, через который мы можем удалённо пользоваться 2мя функциями
4. Есть ci\cd + мониторинг и мы можем легко деплоить новые версии и следить за работой

## Ключевые решения:
Для каждого решения нужно мини-исследование
- какие доп. тулы будем использовать (см. [хотелки тулов](##Хотелки_тулов))
- какой веб-сервер
- какой хостинг
- какой интерфейс пользователя

## Хотелки_тулов
### от Алексея
- prefect или другая ETL-тула (чем проще, тем лучше)
- Weights And Biases для трекинга обучения модели
- greatexpectations для конроля данных, которые приходят от nba_api
- какой-нибудь мониторинг\логи
### от Богдана
- streamlit (если решим все делать в виде приложения)
### от Бориса
